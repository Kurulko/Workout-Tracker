<main-app title="Profile">
    <button type="button" mat-flat-button color="secondary" [routerLink]="[accountPath]">
        <mat-icon>reply</mat-icon> Back
    </button>
    <button type="button" color="primary" mat-flat-button [routerLink]="['/password']">
        <mat-icon>edit</mat-icon> Password
    </button>
    <br/><br/><br/>
    <ng-container *ngIf="!user; else profileTemplate">
        <mat-spinner diameter="60" />
    </ng-container>
    <ng-template #profileTemplate>
        <!-- Name -->
        <app-short-card title="Name" width="40%">
            <app-name-input 
                [(ngModel)]="user.userName" 
                [required]="true" 
                [minlength]="3" 
                hintStr="Min 3 characters" 
                #nameInput="ngModel" 
                width="100%" />
        </app-short-card>
        <br />

        <!-- Email -->
        <app-short-card title="Email" width="40%">
            <app-email-input 
                [(ngModel)]="user.email" 
                [required]="false" 
                #emailInput="ngModel"
                width="100%" />
        </app-short-card>
        <br />

        <div>
            <button type="button" color="primary" mat-flat-button (click)="onSubmit()" 
                [disabled]="nameInput.invalid || emailInput.invalid">
                <mat-icon>save</mat-icon> Save
            </button>
            <button type="button" mat-flat-button color="secondary" [routerLink]="[accountPath]">
                <mat-icon>cancel</mat-icon> Cancel
            </button>
        </div>
    </ng-template>
</main-app>